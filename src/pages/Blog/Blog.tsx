import React, { useMemo, useState } from "react";

import { BlogSlider, Posts, Recent, Tags } from "./components";
import { Post, RecentPost } from "types";

import Img1 from "assets/images/blogs/0/1.jpg";
import Img2 from "assets/images/blogs/1/3.png";
import Img3 from "assets/images/blogs/2/1.jpg";
import Img4 from "assets/images/blogs/3/1.png";
import Img5 from "assets/images/blogs/4/1.jpg";

import { useMediaQuery } from "hooks";

const tags = [
  "Gambling",
  "–°—Ö–µ–º—ã",
  "Nutra",
  "Betting",
  "–°–≤—è–∑–∫–∏",
  "Dating",
  "–ê–Ω—Ç–∏–∫–∏",
  "–§–∞—Ä–º–∏–Ω–≥",
];

const posts: Post[] = [
  {
    date: "November 16, 2023",
    tags: ["Gambling", "–ê—Ä–±–∏—Ç—Ä–∞–∂"],
    title: "–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∏ —Å–≤—è–∑–∫–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ò–Ω—Ñ–ª—é–µ–Ω—Å —Ç—Ä–∞—Ñ–∏–∫–æ–º",
    text: "–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –≤ –∏–Ω—Ñ–ª—é–µ–Ω—Å-—Ç—Ä–∞—Ñ–∏–∫–µ –¥–∞—é—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø—Ä–æ–¥–≤–∏–≥–∞—Ç—å –≥–µ–º–±–ª–∏–Ω–≥ —á–µ—Ä–µ–∑ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã, –≤–∫–ª—é—á–∞—è Facebook.",
    image: Img1,
    link: "0",
  },
  {
    date: "November 16, 2023",
    tags: ["Gambling", "–ê—Ä–±–∏—Ç—Ä–∞–∂"],
    title: "–í—Å–µ –æ —Ä–µ–∫–ª–∞–º–µ –≤ Telegram Ads",
    text: "–°–æ–≥–ª–∞—Å–Ω–æ –¥–∞–Ω–Ω—ã–º –ø–æ—Ä—Ç–∞–ª–∞ Inclient.ru, –≤ 2022 –≥–æ–¥—É Telegram —á–∞—â–µ –≤—Å–µ–≥–æ –∑–∞–≥—Ä—É–∂–∞–ª–∏ –≤ –ò–Ω–¥–∏–∏ (70,48 –º–ª–Ω), –†–æ—Å—Å–∏–∏ (24,15 –º–ª–Ω), –°–®–ê (20,03 –º–ª–Ω), –ò–Ω–¥–æ–Ω–µ–∑–∏–∏ (19,61 –º–ª–Ω) –∏ –ë—Ä–∞–∑–∏–ª–∏–∏ (18,04 –º–ª–Ω). –ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä –ø–æ–ø—É–ª—è—Ä–µ–Ω —Å—Ä–µ–¥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –†–æ—Å—Å–∏–∏, –ë–µ–ª–æ—Ä—É—Å—Å–∏–∏, –£–∫—Ä–∞–∏–Ω–µ, –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–µ –∏ –°–®–ê. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –ø–æ –∏—Ç–æ–≥–∞–º 2022 –≥–æ–¥–∞ –∞—É–¥–∏—Ç–æ—Ä–∏—è Telegram –≤—ã—Ä–æ—Å–ª–∞ —Å 25,5 –º–ª–Ω –¥–æ 48,8 –º–ª–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.",
    image: Img2,
    link: "1",
  },
  {
    date: "November 16, 2023",
    tags: ["Gambling", "–ê—Ä–±–∏—Ç—Ä–∞–∂"],
    title: "üî• –ò–Ω—Ñ–ª—é–µ–Ω—Å —Ç—Ä–∞—Ñ–∏–∫ –Ω–∞ –ì—Ä–µ—Ü–∏—é: –∫–∞–∫ –º—ã –ø–æ–ª—É—á–∞–ª–∏ —Ç—Ä–∞—Ñ–∏–∫ –∏–∑ Facebook",
    text: "–û–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥—É–º–æ–∫ –≤ –≥–µ–º–±–ª–∏–Ω–≥–µ - –∏–Ω—Ñ–ª—é–µ–Ω—Å —Ç—Ä–∞—Ñ–∏–∫, —Ç–∞–∫ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥–æ—à–µ–¥—à–∏–π –ø–æ–¥ –∞–∑–∞—Ä—Ç–Ω—ã–µ –∏–≥—Ä—ã: –±—ã—Å—Ç—Ä–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ —É–¥–∞—á–µ –∏ —Ä–∞—Å—Å—á–µ—Ç–∞—Ö. –ü—Ä–∏ —ç—Ç–æ–º ‚Äú–∞–ª–≥–æ—Ä–∏—Ç–º—ã‚Äù –≥–æ–¥–∞–º–∏ —Å—Ç—Ä–µ–ª—è–ª–∏ –≤ –†–æ—Å—Å–∏–∏ –∏ –Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –°–ù–ì, –Ω–æ –Ω–∞ –±—É—Ä–∂ –≤—ã—Ö–æ–¥–∏–ª–∏ –æ—á–µ–Ω—å –¥–æ–ª–≥–æ. –í–ø—Ä–æ—á–µ–º, –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ø–∞—Ä—É –ª–µ—Ç –Ω–∞ –ª—é–±–æ–π –≥–µ–º–±–ª–∏–Ω–≥-–ø–∞—Ä—Ç–Ω–µ—Ä–∫–µ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—Ñ—Ñ–µ—Ä–æ–≤ –ø–æ –≥–µ–æ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –∏–∑ —Ç–∏—Ä-2 –∏ —Ç–∏—Ä-3, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ —Ç–∞–∫–æ–π —Ç—Ä–∞—Ñ–∏–∫ –ø—Ä–∏–º–µ—Ç—Å—è.",
    image: Img3,
    link: "2",
  },
  {
    date: "November 16, 2023",
    tags: ["Gambling", "–ê—Ä–±–∏—Ç—Ä–∞–∂"],
    title: "–°–µ—Ä–≤–∏—Å—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫—Ä–µ–∞—Ç–∏–≤–æ–≤ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ",
    text: "–•–æ—Ä–æ—à–æ —Å–¥–µ–ª–∞–Ω–Ω—ã–π –∫—Ä–µ–∞—Ç–∏–≤ - –∑–∞–ª–æ–≥ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ª–∏–≤–∞ —Ç—Ä–∞—Ñ–∏–∫–∞. –ò –µ—Å–ª–∏ —Ç—ã –Ω–µ —Ö–æ—á–µ—à—å –Ω–∞–Ω–∏–º–∞—Ç—å –¥–∏–∑–∞–π–Ω–µ—Ä–∞, —Ç–æ –º–æ–∂–µ—à—å —Å–¥–µ–ª–∞—Ç—å —Å–∞–º –¥–∏–∑–∞–π–Ω –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ. –í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ –º—ã —Å–¥–µ–ª–∞–ª–∏ –ø–æ–¥–±–æ—Ä–∫—É –∏–∑ 10 –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –≤ –∫–æ—Ç–æ—Ä—ã—Ö —É —Ç–µ–±—è —Ç–æ—á–Ω–æ –ø–æ–ª—É—á–∏—Ç—Å—è —Å–¥–µ–ª–∞—Ç—å –≥–æ–¥–Ω—ã–π –∫—Ä–µ–∞—Ç–∏–≤.",
    image: Img4,
    link: "3",
  },
  {
    date: "November 16, 2023",
    tags: ["Gambling", "–ê—Ä–±–∏—Ç—Ä–∞–∂"],
    title: "–ö–µ–π—Å: –ì–µ–º–±–ª–∏–Ω–≥ –Ω–∞ –ö–æ–ª—É–º–±–∏—é —Å ROI 150%",
    text: '–õ–∏—Ç—å –≥–µ–º–±–ª–∏–Ω–≥ —á–µ—Ä–µ–∑ Facebook —Å –∫–∞–∂–¥—ã–º –¥–Ω–µ–º —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–ª–æ–∂–Ω–µ–µ: –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å ROI –ø–∞–¥–∞–µ—Ç, –ø–æ—è–≤–ª—è—é—Ç—Å—è —á–∞—Å—Ç—ã–µ —à—Ç–æ—Ä–º—ã, –∞ –≥–µ–º–±–ª–∏–Ω–≥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∂–∏–≤—É—Ç –Ω–µ –æ—á–µ–Ω—å –¥–æ–ª–≥–æ. –ß—Ç–æ –∂–µ —Ç–æ–≥–¥–∞ –¥–µ–ª–∞—Ç—å? –í—ã—Ö–æ–¥ –µ—Å—Ç—å –∏ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ–Ω "Influence —Ç—Ä–∞—Ñ–∏–∫"',
    image: Img5,
    link: "4",
  },
  {
    date: "November 16, 2023",
    tags: ["Gambling", "–ê—Ä–±–∏—Ç—Ä–∞–∂"],
    title: "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Keitaro x Leadshub",
    text: "–î–ª—è —É—Å–ø–µ—à–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Keitaro —Å Leadshub –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–ª–µ–¥–æ–≤–∞—Ç—å —á–µ—Ç–∫–∏–º —à–∞–≥–∞–º. –ü–µ—Ä–≤—ã–º —ç—Ç–∞–ø–æ–º —è–≤–ª—è–µ—Ç—Å—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–æ–º–æ–∫–æ–¥–∞ <b>LEADSHUB20</b>, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–∫–∏–¥–∫—É 20% –Ω–∞ –ø–µ—Ä–≤—É—é –ø–æ–∫—É–ø–∫—É –¥–ª—è –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤, –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—É—é –≤ —Ç–µ—á–µ–Ω–∏–µ —Ç—Ä–µ—Ö –º–µ—Å—è—Ü–µ–≤.",
    link: "5",
  },
];

const recentPosts: RecentPost[] = [
  {
    image: Img3,
    title: "üî• –ò–Ω—Ñ–ª—é–µ–Ω—Å —Ç—Ä–∞—Ñ–∏–∫ –Ω–∞ –ì—Ä–µ—Ü–∏—é: –∫–∞–∫ –º—ã –ø–æ–ª—É—á–∞–ª–∏ —Ç—Ä–∞—Ñ–∏–∫ –∏–∑ Facebook",
    date: "November 16, 2023",
    link: "2",
  },
  {
    image: Img4,
    title: "–°–µ—Ä–≤–∏—Å—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫—Ä–µ–∞—Ç–∏–≤–æ–≤ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ",
    date: "November 16, 2023",
    link: "3",
  },
  {
    image: Img5,
    title: "–ö–µ–π—Å: –ì–µ–º–±–ª–∏–Ω–≥ –Ω–∞ –ö–æ–ª—É–º–±–∏—é —Å ROI 150%",
    date: "November 16, 2023",
    link: "4",
  },
];

export const Blog: React.FC = () => {
  const matches = useMediaQuery("(min-width: 768px)");

  const [selectedTags, setSelectedTags] = useState<string[]>([]);

  const handleSelectTag = (tag: string) => {
    setSelectedTags((p) => {
      if (p.includes(tag)) {
        return p.filter((t) => t !== tag);
      }

      return [...p, tag];
    });
  };

  const filteredPosts = useMemo(() => {
    if (selectedTags.length === 0) return posts;

    return posts.filter((p) => {
      for (const tag of p.tags) {
        if (selectedTags.includes(tag)) return true;
      }

      return false;
    });
  }, [selectedTags]);

  return (
    <div className="pb-24">
      <BlogSlider />
      <section className="base-container grid grid-cols-1 justify-center md:grid-cols-[2fr,1fr] md:gap-[30px]">
        {matches ? (
          <>
            <Posts posts={filteredPosts} />
            <div>
              <Recent className="mb-12" posts={recentPosts} />
              <Tags
                tags={tags}
                selected={selectedTags}
                onSelect={handleSelectTag}
              />
            </div>
          </>
        ) : (
          <>
            <Tags
              tags={tags}
              selected={selectedTags}
              onSelect={handleSelectTag}
            />
            <Posts posts={filteredPosts} />
            <Recent posts={recentPosts} />
          </>
        )}
      </section>
    </div>
  );
};
